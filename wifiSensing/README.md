# Wifi Sensing

## Basic knowledges

### 卷积/相关

#### 相关定义式

![image-20210927161555845](.\img\image-20210927161555845.png)

咱计算机一般不做连续运算，都是采样后离散化再计算。那这个公式离散化形式如何？

准确地说：对于两个矢量（对函数采样产生）的相关运算，就是固定一个矢量，滑动另一个，然后对应元素相乘，再加和所有乘积。

其实吧，所有的线性信号处理方法，全都是基于相关运算的。

#### 卷积定义式

![image-20210927161811721](.\img\image-20210927161811721.png)

实际上，卷积就是把一个信号在时间轴上反转，然后再去和另一个信号相关而已

### OFDM

1）给定频段宽度后，选取子载波数(子载波要相互正交, 载波正交的话在解调时很方便操作)。2）当上层数据流到达Wi-Fi物理层时，首先分给子载波，这个过程就是把传输的数据用相应载波的幅度及相位来表示。这样就形成搭载数据的多个 FFT 谱了。3）接收端，先载波相干解调，去掉载波，叫做 IQ downconversion（因为早先发送的时候是分别在cosine和sine上调制的）。4）然后 FFT，各个子载波（谱线）上搭载的数据就出来了。

##### FFT

FT，就是把连续函数利用相关运算，投影在一组由正弦和余弦函数组成的“基”上的线性分解过程。

FFT，就是FT在数字计算上的离散快速算法。

比如如果我们采样得到 1024 点的时域数据，经过 FFT，会得到 1024 点的频域数据。这里面只有开头的 512 点有意义，它们代表频率的离散采样。

因为 FT 是正交分解，所以 FFT 上每个值（也叫谱线，因为上频域上频谱的采样）代表一个正交频率的功率值。

这正是 OFDM 里面 O 和 F 的来历：正交频率嘛。

所以当上层的调制数据到达 ODFM 调制层，会分散到各个 FFT 的谱线上，成为该谱线的幅值，即功率值。

然后系统进行 IFFT（逆变换），就得到时域的波形（离散采样值）。目前未知的到的是基带的波形（符号），之后当然还要搭载在高频载波上（比如5GHz），就可以发送了。

到了接收端，通过 downconversion 去掉高频载波，回复时域波形，然后 FFT，就得到原始的数据流了（其实还需要解调 QAM），但那个跟 OFDM 就无关了。